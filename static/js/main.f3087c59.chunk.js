(this.webpackJsonpspinner=this.webpackJsonpspinner||[]).push([[0],{14:function(t,e,n){"use strict";n.r(e);var r=n(1),a=n.n(r),o=n(4),i=n.n(o),s=n(5),c=n(6),l=n(8),u=n(7),h=n(2),d=n.n(h),f=n(0),g=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this,t)).state={spinCount:1,view:{h:0,w:0},data:[]},r}return Object(c.a)(n,[{key:"componentDidCatch",value:function(t,e){console.log("Error",t,e)}},{key:"setSize",value:function(){var t=window.innerHeight-2,e=window.innerWidth-2;this.setState({view:{h:t,w:e}})}},{key:"componentDidMount",value:function(){var t=this;this.setSize();var e=d.a.getQueryParameter("url");e||(e="spinners/default.json"),console.log("Loading",e),fetch(e,{method:"GET"}).then((function(t){return t.json()})).then((function(e){try{console.log("Loaded",e),t.setState({data:e})}catch(n){console.log("Error",n)}})).catch((function(t){window.alert("Unable to read data from ".concat(e," : ").concat(t)),console.log("Error",t)}))}},{key:"cacluatePointOnCircle",value:function(t,e){var n=t*(Math.PI/180);return{x:Math.cos(n)*e,y:Math.sin(n)*e}}},{key:"createLinesAlongCurve",value:function(t,e,n,r){for(var a="M "+t.x+" "+t.y+" \n",o=e;o<n+5;o+=5){var i=Math.min(o,n),s=this.cacluatePointOnCircle(i,r);a+=" L "+(t.x+s.x)+" "+(t.y+s.y)+" \n"}return a+" z"}},{key:"renderSlice",value:function(t,e,n,r,a,o,i){var s=e-e/a*r,c="r"+r+"s"+o,l=360/i,u=l/2;return Object(f.jsxs)("g",{transform:"rotate("+l*o+" "+t.x+" "+t.y+")",children:[Object(f.jsx)("path",{d:this.createLinesAlongCurve(t,-u,u,s),fill:d.a.getColor(o,i),stroke:"#000",strokeWidth:1},"p"+c),Object(f.jsx)("text",{x:t.x+s-25,y:t.y,textAnchor:"end",fontSize:"1.15em",children:n},"t"+c)]},"g"+c)}},{key:"renderSpinners",value:function(){var t=this,e=this.state.data.length,n=this.state.view,r=n.h/2,a={x:n.w/2,y:n.h/2};return n.w<n.h&&(r=n.w-50,a.x=25),console.log(n,r,a),this.state.data.map((function(n,o){var i=o%2==0?1:-1,s=Math.round(720+360*Math.random()),c=" "+Math.round(a.x)+"px "+Math.round(a.y)+"px",l=Math.round(360/n.length),u=l-s%l,h="cssRule"+o;return d.a.addRule(h," @keyframes ".concat(h," {\n                    0% {\n                        transform:rotate(0deg);\n                        transform-origin: ").concat(c,";\n                    } \n                    100% {\n                        transform:rotate(").concat((s+u)*i,"deg);\n                        transform-origin: ").concat(c,";\n                    }\n                }")," .".concat(h," { \n                    background: red;\n                    animation-name: ").concat(h,";\n                    animation-duration: 4s;\n                    animation-fill-mode: forwards;\n                }")),Object(f.jsx)("g",{className:h,children:Object(f.jsx)("g",{children:n.map((function(i,s){return t.renderSlice(a,r,i,o,e,s,n.length)}))},"ring"+o+"_"+t.state.spinCount)},"g"+o+"_"+t.state.spinCount)}))}},{key:"render",value:function(){var t=this;return Object(f.jsx)("div",{onMouseUp:function(e){return t.refresh()},children:Object(f.jsx)("svg",{width:this.state.view.w,height:this.state.view.h,children:this.renderSpinners()},"s"+this.state.spinCount)})}},{key:"refresh",value:function(){this.setSize();var t=this.state.spinCount+1;this.setState({spinCount:t})}}]),n}(a.a.Component);i.a.render(Object(f.jsx)(a.a.Fragment,{children:Object(f.jsx)(g,{})}),document.getElementById("root"))},2:function(t,e){var n=["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#ff7f00","#6a3d9a","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#b15928"];function r(t){for(var e=document.head.childNodes,n=0;n<e.length;n+=1){var r=e[n];"STYLE"===r.nodeName&&r.id===t&&(console.log("Removing",r.id),document.head.removeChild(r))}}t.exports={getQueryParameter:function(t){var e=document.location.search;if(e&&e.length>1){"?"==e.charAt(0)&&(e=e.substring(1));for(var n=e.split("&"),r=0;r<n.length;r++){var a=n[r].split("=");if(console.log(a),a&&2==a.length&&a[0]===t)return a[1]}}},getColor:function(t,e){return n.length==e-1?n[t%(n.length-1)]:n[t%n.length]},addRule:function(t){r(t),styleEl=document.createElement("style"),styleEl.setAttribute("id",t),document.head.appendChild(styleEl);for(var e=styleEl.sheet,n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];Object.values(a).forEach((function(t,n){e.insertRule(t,n)}))}}}},[[14,1,2]]]);
//# sourceMappingURL=main.f3087c59.chunk.js.map