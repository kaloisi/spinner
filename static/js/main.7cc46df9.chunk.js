(this.webpackJsonpspinner=this.webpackJsonpspinner||[]).push([[0],{13:function(t,e,n){"use strict";n.r(e);var r=n(1),i=n.n(r),a=n(3),s=n.n(a),c=n(4),o=n(5),h=n(7),u=n(6),l=n(0),d=["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#b15928"],f=function(t){Object(h.a)(n,t);var e=Object(u.a)(n);function n(t){var r;return Object(c.a)(this,n),(r=e.call(this,t)).state={spinCount:1,view:{h:0,w:0},center:{y:0,x:0},data:[]},r}return Object(o.a)(n,[{key:"componentDidCatch",value:function(t,e){console.log("Error",t,e)}},{key:"setSize",value:function(){var t=window.innerHeight,e=window.innerWidth;this.setState({view:{h:t,w:e},center:{y:t/2,x:25}})}},{key:"componentDidMount",value:function(){var t=this;this.setSize();fetch("spinners/key_n_positions.json",{method:"GET"}).then((function(t){return t.json()})).then((function(e){try{console.log("Loaded",e),t.setState({data:e})}catch(n){console.log("Error",n)}})).catch((function(t){console.log("Error",t)}))}},{key:"cacluatePointOnCircle",value:function(t,e){var n=t*(Math.PI/180);return{x:Math.cos(n)*e,y:Math.sin(n)*e}}},{key:"createLinesAlongCurve",value:function(t,e,n){for(var r=this.state.center,i="M "+r.x+" "+r.y+" \n",a=t;a<e+5;a+=5){var s=Math.min(a,e),c=this.cacluatePointOnCircle(s,n);i+=" L "+(r.x+c.x)+" "+(r.y+c.y)+" \n"}return i+" z"}},{key:"getColor",value:function(t,e){return d.length==e-1?d[t%(d.length-1)]:d[t%d.length]}},{key:"renderSlice",value:function(t,e,n,r,i){var a=this.state.view.w-2*this.state.center.x,s=a-a/n*e,c="r"+e+"s"+r,o=360/i,h=o/2;return Object(l.jsxs)("g",{transform:"rotate("+o*r+" "+this.state.center.x+" "+this.state.center.y+")",children:[Object(l.jsx)("path",{d:this.createLinesAlongCurve(-h,h,s),fill:this.getColor(r,i),stroke:"#000",strokeWidth:1},"p"+c),Object(l.jsx)("text",{x:s,y:this.state.center.y,"text-anchor":"end",fontSize:"1.15em",children:t},"t"+c)]},"g"+c)}},{key:"renderSpinner",value:function(t,e,n){var r=this,i=e%2==0?1:-1,a=Math.round(720+360*Math.random()),s=" "+this.state.center.x+" "+this.state.center.y,c=Math.round(360/t.length),o=c-a%c;"0 ".concat(s,";");"".concat(a/2*i," ").concat(s,";"),"".concat(a*i," ").concat(s,";"),"".concat((a+o)*i," ").concat(s,";");return Object(l.jsx)("g",{style:{animation:"rotation 8s infinite linear"},transform:"rotate("+(a+o)*i+" "+s+")",children:t.map((function(i,a){return r.renderSlice(i,e,n,a,t.length)}))},"ring"+e+"_"+this.state.spinCount)}},{key:"renderSpinners",value:function(){var t=this;return this.state.data.map((function(e,n){return t.renderSpinner(e,n,t.state.data.length)}))}},{key:"refresh",value:function(){this.setSize();var t=this.state.spinCount+1;this.setState({spinCount:t})}},{key:"render",value:function(){var t=this;return Object(l.jsx)("div",{children:Object(l.jsx)("svg",{width:this.state.view.w,height:this.state.view.h,onMouseUp:function(e){return t.refresh()},children:this.renderSpinners()},"s"+this.state.spinCount)})}}]),n}(i.a.Component);s.a.render(Object(l.jsx)(i.a.Fragment,{children:Object(l.jsx)(f,{})}),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.7cc46df9.chunk.js.map